<!-- Show loading component during authentication -->
<app-loading *ngIf="isAuthenticating"></app-loading>

<div class="app-container" [class.blur]="isAuthenticating">
  <nav class="main-nav">
    <div class="nav-brand">
      <h1>MSAL Example</h1>
    </div>
    <div class="nav-links">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">Home</a>
      <a routerLink="/admin" routerLinkActive="active">Admin</a>
    </div>
    <div class="auth-buttons">
      <button *ngIf="!isLoggedIn" (click)="login()" [disabled]="loginInProgress">
        {{ loginInProgress ? 'Logging in...' : 'Login' }}
      </button>
      <button *ngIf="isLoggedIn" (click)="logout()" [disabled]="loginInProgress">Logout</button>
    </div>
  </nav>

  <div *ngIf="isLoggedIn" class="user-info">
    <h2>User Information</h2>
    <div *ngIf="userInfo">
      <p><strong>Name:</strong> {{ userInfo.displayName }}</p>
      <p><strong>Email:</strong> {{ userInfo.email }}</p>
    </div>
  </div>

  <router-outlet></router-outlet>
</div>